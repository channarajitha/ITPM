{"ast":null,"code":"var _jsxFileName = \"/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Allbranch.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\"; //import Header from \"./Header\";\n\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit'; //import './Allbranch.css';\n\nimport jspdf from 'jspdf';\nimport \"jspdf-autotable\";\nimport swal from 'sweetalert';\nexport default function Allbranch() {\n  const [searchTerm, setsearchTerm] = useState(\"\");\n  const [branches, setbranches] = useState([]);\n\n  const deletebranch = id => {\n    axios.delete(`http://localhost:5000/branch/deletebrn/${id}`).then(() => {\n      swal({\n        title: \"Are you sure?\",\n        text: \"The Item Will be Deleted from Branch List\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          swal(\"The Branch has been deleted!\", \"success\");\n          setTimeout(function () {\n            window.location.reload();\n          }, 1000);\n        } else {\n          swal(\"File Is Not Deleted\");\n        }\n      });\n      ;\n    });\n  };\n\n  useEffect(() => {\n    //fetching all  data from the database\n    function getbranch() {\n      axios.get(\"http://localhost:5000/branch/allbrn\").then(res => {\n        setbranches(res.data);\n      }).catch(err => {\n        alert(err.message);\n      });\n    }\n\n    getbranch();\n  }, []); //Genarating PDF\n\n  const generatePDF = tickets => {\n    const doc = new jspdf();\n    const tableColumn = [\"Branch_Name\", \"Branch_RegNo\", \"Contact_Number\", \"Address\", \"Holidays\", \"Open_Close_Status\", \"Description\", \"E_mail\"];\n    const tableRows = [];\n    const date = Date().split(\" \");\n    const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\n    tickets.map(ticket => {\n      const ticketData = [ticket.Branch_Name, ticket.Branch_RegNo, ticket.Contact_Number, ticket.Address, ticket.Holidays, ticket.Open_Close_Status, ticket.Description, ticket.E_mail];\n      tableRows.push(ticketData);\n    });\n    doc.text(\"V Star Hardware Pvt Ltd\", 70, 8).setFontSize(13);\n    doc.text(\"Branch Detail Report\", 14, 16).setFontSize(13);\n    doc.text(`Report Genarated Date - ${dateStr}`, 14, 23); //right down width height\n    //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\n\n    doc.autoTable(tableColumn, tableRows, {\n      styles: {\n        fontSize: 8\n      },\n      startY: 35\n    });\n    doc.save(\"Branch Details Report.pdf\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }\n  }, \" Branch Details Management\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"buttonn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary btn-sm\",\n    onClick: () => generatePDF(branches),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }\n  }, \"GenerateReport\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"lft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search..\",\n    className: \"form-control\",\n    style: {\n      margintop: 50,\n      marginbottom: 20,\n      width: \"40%\"\n    },\n    onChange: e => {\n      setsearchTerm(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 1\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-striped table-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    class: \"table-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 28\n    }\n  }, \"Branch_Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 28\n    }\n  }, \"Branch_RegNo\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 28\n    }\n  }, \"Contact_Number\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 28\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 28\n    }\n  }, \"Holidays\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 28\n    }\n  }, \"Open_Close_Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 28\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 28\n    }\n  }, \"E_mail \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 28\n    }\n  }, \"action\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 28\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 20\n    }\n  }, branches.filter(val => {\n    if (searchTerm === '') {\n      return val;\n    } else if (val.Branch_Name.toLowerCase().includes(searchTerm.toLowerCase())) {\n      return val;\n    }\n  }).map(function (f) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 36\n      }\n    }, f.Branch_Name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 36\n      }\n    }, f.Branch_RegNo, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 36\n      }\n    }, f.Contact_Number, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 36\n      }\n    }, f.Address, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 36\n      }\n    }, f.Holidays), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 36\n      }\n    }, f.Open_Close_Status), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 36\n      }\n    }, f.Description), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 36\n      }\n    }, f.E_mail), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 36\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      onClick: () => deletebranch(f._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 10\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 8\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(EditIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 40\n      }\n    }))));\n  })))))));\n}","map":{"version":3,"sources":["/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Allbranch.js"],"names":["React","useState","useEffect","axios","IconButton","DeleteIcon","EditIcon","jspdf","swal","Allbranch","searchTerm","setsearchTerm","branches","setbranches","deletebranch","id","delete","then","title","text","icon","buttons","dangerMode","willDelete","setTimeout","window","location","reload","getbranch","get","res","data","catch","err","alert","message","generatePDF","tickets","doc","tableColumn","tableRows","date","Date","split","dateStr","map","ticket","ticketData","Branch_Name","Branch_RegNo","Contact_Number","Address","Holidays","Open_Close_Status","Description","E_mail","push","setFontSize","autoTable","styles","fontSize","startY","save","margintop","marginbottom","width","e","target","value","filter","val","toLowerCase","includes","f","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;AAGA,OAAOC,IAAP,MAAiB,YAAjB;AAEA,eAAe,SAASC,SAAT,GAAoB;AACjC,QAAM,CAACC,UAAD,EAAYC,aAAZ,IAA6BV,QAAQ,CAAC,EAAD,CAA3C;AAEE,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMa,YAAY,GAAEC,EAAD,IAAO;AACtBZ,IAAAA,KAAK,CAACa,MAAN,CAAc,0CAAyCD,EAAG,EAA1D,EAA6DE,IAA7D,CAAkE,MAAI;AAClET,MAAAA,IAAI,CAAC;AACDU,QAAAA,KAAK,EAAE,eADN;AAEDC,QAAAA,IAAI,EAAE,2CAFL;AAGDC,QAAAA,IAAI,EAAE,SAHL;AAIDC,QAAAA,OAAO,EAAE,IAJR;AAKDC,QAAAA,UAAU,EAAE;AALX,OAAD,CAAJ,CAOGL,IAPH,CAOSM,UAAD,IAAgB;AACpB,YAAIA,UAAJ,EAAgB;AACdf,UAAAA,IAAI,CAAC,8BAAD,EACF,SADE,CAAJ;AAEIgB,UAAAA,UAAU,CAAC,YAAU;AACvBC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA,WAFY,EAEX,IAFW,CAAV;AAGL,SAND,MAMO;AACLnB,UAAAA,IAAI,CAAC,qBAAD,CAAJ;AACD;AACF,OAjBH;AAkBH;AACA,KApBD;AAqBD,GAtBH;;AA0BAN,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA,aAAS0B,SAAT,GAAoB;AACpBzB,MAAAA,KAAK,CAAC0B,GAAN,CAAU,qCAAV,EAAiDZ,IAAjD,CAAuDa,GAAD,IAAS;AAC3DjB,QAAAA,WAAW,CAACiB,GAAG,CAACC,IAAL,CAAX;AACC,OAFL,EAGEC,KAHF,CAGSC,GAAD,IAAS;AACbC,QAAAA,KAAK,CAACD,GAAG,CAACE,OAAL,CAAL;AACH,OALD;AAMH;;AACDP,IAAAA,SAAS;AACR,GAXQ,EAWN,EAXM,CAAT,CA/B+B,CA2C/B;;AACA,QAAMQ,WAAW,GAAGC,OAAO,IAAI;AAE7B,UAAMC,GAAG,GAAG,IAAI/B,KAAJ,EAAZ;AACA,UAAMgC,WAAW,GAAG,CAAC,aAAD,EAAgB,cAAhB,EAAgC,gBAAhC,EAAkD,SAAlD,EAA4D,UAA5D,EAAwE,mBAAxE,EAA6F,aAA7F,EAA4G,QAA5G,CAApB;AACA,UAAMC,SAAS,GAAG,EAAlB;AACA,UAAMC,IAAI,GAAGC,IAAI,GAAGC,KAAP,CAAa,GAAb,CAAb;AACA,UAAMC,OAAO,GAAGH,IAAI,CAAC,CAAD,CAAJ,GAAU,GAAV,GAAgBA,IAAI,CAAC,CAAD,CAApB,GAA0B,GAA1B,GAAgCA,IAAI,CAAC,CAAD,CAApD;AAEAJ,IAAAA,OAAO,CAACQ,GAAR,CAAYC,MAAM,IAAI;AAClB,YAAMC,UAAU,GAAG,CACfD,MAAM,CAACE,WADQ,EAEfF,MAAM,CAACG,YAFQ,EAGfH,MAAM,CAACI,cAHQ,EAIfJ,MAAM,CAACK,OAJQ,EAKfL,MAAM,CAACM,QALQ,EAMfN,MAAM,CAACO,iBANQ,EAOfP,MAAM,CAACQ,WAPQ,EAQfR,MAAM,CAACS,MARQ,CAAnB;AAWAf,MAAAA,SAAS,CAACgB,IAAV,CAAeT,UAAf;AACH,KAbD;AAcAT,IAAAA,GAAG,CAACnB,IAAJ,CAAS,yBAAT,EAAoC,EAApC,EAAwC,CAAxC,EAA2CsC,WAA3C,CAAuD,EAAvD;AACAnB,IAAAA,GAAG,CAACnB,IAAJ,CAAS,sBAAT,EAAiC,EAAjC,EAAqC,EAArC,EAAyCsC,WAAzC,CAAqD,EAArD;AACAnB,IAAAA,GAAG,CAACnB,IAAJ,CAAU,2BAA0ByB,OAAQ,EAA5C,EAA+C,EAA/C,EAAmD,EAAnD,EAxB6B,CAyB7B;AACA;;AACAN,IAAAA,GAAG,CAACoB,SAAJ,CAAcnB,WAAd,EAA2BC,SAA3B,EAAsC;AAAEmB,MAAAA,MAAM,EAAE;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAV;AAA4BC,MAAAA,MAAM,EAAC;AAAnC,KAAtC;AACAvB,IAAAA,GAAG,CAACwB,IAAJ,CAAS,2BAAT;AACH,GA7BC;;AA+BA,sBACI,uDACC;AAAK,IAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADC,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAKN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCALM,CADD,eAUL;AAAK,IAAA,KAAK,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,KAAK,EAAC,0BAA5B;AAAuD,IAAA,OAAO,EAAE,MAAM1B,WAAW,CAACxB,QAAD,CAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,CAVK,eAgBD;AAAK,IAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADO,eAEP;AAAK,IAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,WAAW,EAAC,UAA/B;AAA0C,IAAA,SAAS,EAAC,cAApD;AAAmE,IAAA,KAAK,EAAE;AAACmD,MAAAA,SAAS,EAAC,EAAX;AAAcC,MAAAA,YAAY,EAAC,EAA3B;AAA8BC,MAAAA,KAAK,EAAC;AAApC,KAA1E;AACM,IAAA,QAAQ,EAAKC,CAAD,IAAO;AACfvD,MAAAA,aAAa,CAACuD,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AACH,KAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADA,CADA,eAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVA,eAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXA,eAYU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZV,eAaU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbV,eAcU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdV,eAgBG;AAAO,IAAA,KAAK,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK;AAAO,IAAA,KAAK,EAAC,iCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEW;AAAO,IAAA,KAAK,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAPJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBARJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eATJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,CAFJ,CAFX,eAoBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEnBxD,QAAQ,CAACyD,MAAT,CAAgBC,GAAG,IAAE;AACjB,QAAG5D,UAAU,KAAK,EAAlB,EAAqB;AACjB,aAAO4D,GAAP;AACH,KAFD,MAEM,IACFA,GAAG,CAAEtB,WAAL,CAAiBuB,WAAjB,GAA+BC,QAA/B,CAAwC9D,UAAU,CAAC6D,WAAX,EAAxC,CADE,EAKL;AACG,aAAOD,GAAP;AACH;AACA,GAXL,EAWOzB,GAXP,CAWW,UAAU4B,CAAV,EAAa;AACO,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMA,CAAC,CAACzB,WAAR,CAJG,eAKH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMyB,CAAC,CAACxB,YAAR,MALG,eAMH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMwB,CAAC,CAACvB,cAAR,MANG,eAOH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMuB,CAAC,CAACtB,OAAR,MAPG,eAQH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMsB,CAAC,CAACrB,QAAR,CARG,eASH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMqB,CAAC,CAACpB,iBAAR,CATG,eAUH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMoB,CAAC,CAACnB,WAAR,CAVG,eAWH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMmB,CAAC,CAAClB,MAAR,CAXG,eAcH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAM,oBAAC,UAAD;AAAa,oBAAW,QAAxB;AAAkC,MAAA,OAAO,EAAE,MAAKzC,YAAY,CAAC2D,CAAC,CAACC,GAAH,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGhC,oBAAC,UAAD;AAAY,MAAA,QAAQ,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHgC,CAAN,CAdG,eAoB/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAM,oBAAC,UAAD;AAAY,oBAAW,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAG0B,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAH1B,CAAN,CApB+B,CAAP;AA4BH,GAxC5B,CAFmB,CApBX,CADL,CAhBH,CAFO,CAhBC,CADJ;AA+GH","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport axios from \"axios\";\r\n//import Header from \"./Header\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n//import './Allbranch.css';\r\nimport jspdf from 'jspdf'\r\nimport \"jspdf-autotable\"\r\n\r\n \r\nimport swal from 'sweetalert';\r\n\r\nexport default function Allbranch(){\r\n  const [searchTerm,setsearchTerm] = useState(\"\");\r\n\r\n    const [branches, setbranches] = useState([]);\r\n\r\n    const deletebranch=(id) =>{\r\n        axios.delete(`http://localhost:5000/branch/deletebrn/${id}`).then(()=>{\r\n            swal({\r\n                title: \"Are you sure?\",\r\n                text: \"The Item Will be Deleted from Branch List\",\r\n                icon: \"warning\",\r\n                buttons: true,\r\n                dangerMode: true,\r\n              })\r\n              .then((willDelete) => {\r\n                if (willDelete) {\r\n                  swal(\"The Branch has been deleted!\", \r\n                    \"success\",\r\n                  );  setTimeout(function(){\r\n                    window.location.reload();\r\n                   },1000);\r\n                } else {\r\n                  swal(\"File Is Not Deleted\");\r\n                }\r\n              });\r\n         ;\r\n        })\r\n      }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        //fetching all  data from the database\r\n        function getbranch(){\r\n        axios.get(\"http://localhost:5000/branch/allbrn\").then((res) => {\r\n            setbranches(res.data);\r\n            }\r\n        ).catch((err) => {\r\n            alert(err.message);\r\n        })\r\n    }\r\n    getbranch();\r\n    }, [])\r\n    //Genarating PDF\r\n    const generatePDF = tickets => {\r\n\r\n      const doc = new jspdf();\r\n      const tableColumn = [\"Branch_Name\", \"Branch_RegNo\", \"Contact_Number\", \"Address\",\"Holidays\", \"Open_Close_Status\", \"Description\", \"E_mail\" ];\r\n      const tableRows = [];\r\n      const date = Date().split(\" \");\r\n      const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\r\n\r\n      tickets.map(ticket => {\r\n          const ticketData = [\r\n              ticket.Branch_Name,\r\n              ticket.Branch_RegNo,\r\n              ticket.Contact_Number,\r\n              ticket.Address,\r\n              ticket.Holidays,\r\n              ticket.Open_Close_Status,\r\n              ticket.Description,\r\n              ticket.E_mail,\r\n               \r\n          ];\r\n          tableRows.push(ticketData);\r\n      })\r\n      doc.text(\"V Star Hardware Pvt Ltd\", 70, 8).setFontSize(13);\r\n      doc.text(\"Branch Detail Report\", 14, 16).setFontSize(13);\r\n      doc.text(`Report Genarated Date - ${dateStr}`, 14, 23);\r\n      //right down width height\r\n      //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\r\n      doc.autoTable(tableColumn, tableRows, { styles: { fontSize: 8, }, startY:35});\r\n      doc.save(\"Branch Details Report.pdf\");\r\n  };\r\n\r\n    return (\r\n        <>\r\n         <div class=\"head\">\r\n        <br></br>\r\n          <br></br>\r\n\r\n          \r\n   <h2> Branch Details Management</h2>\r\n    \r\n   </div>\r\n   \r\n   <div class=\"buttonn\">\r\n   <button type=\"button\" class=\"btn btn-secondary btn-sm\" onClick={() => generatePDF(branches)} >GenerateReport</button>\r\n   </div>\r\n\r\n\r\n    \r\n       <div class=\"lft\">\r\n<br></br>\r\n<div class=\"wrap\">\r\n<div class=\"card\" >\r\n<div class=\"search\">\r\n<input type=\"text\" placeholder=\"Search..\" className=\"form-control\" style={{margintop:50,marginbottom:20,width:\"40%\"}}\r\n      onChange = {(e) => {\r\n          setsearchTerm(e.target.value);\r\n      }}/>\r\n      \r\n</div>\r\n</div>\r\n<br></br>\r\n<br></br>\r\n          <br></br>\r\n          <br></br>\r\n          <br></br>\r\n      \r\n   <table class=\"table table-bordered\">\r\n        <table class=\"table table-striped table-hover\">\r\n         \r\n                   <thead class=\"table-dark\">\r\n                \r\n                       <tr>\r\n              \r\n                           <th >Branch_Name</th>\r\n                           <th>Branch_RegNo</th>\r\n                           <th>Contact_Number</th>\r\n                           <th>Address</th>\r\n                           <th>Holidays</th>\r\n                           <th>Open_Close_Status</th>\r\n                           <th>Description</th>\r\n                           <th>E_mail </th>\r\n                           <th>action</th>\r\n                           <th></th>\r\n\r\n                       </tr>\r\n                      \r\n                   </thead>\r\n                   <tbody>\r\n                   {\r\nbranches.filter(val=>{\r\n    if(searchTerm === ''){\r\n        return val;\r\n    }else if(\r\n        val. Branch_Name.toLowerCase().includes(searchTerm.toLowerCase()) \r\n         \r\n         \r\n\r\n    ){\r\n        return val;\r\n    }\r\n    }).map(function (f) {\r\n                               return <tr>\r\n                                   \r\n                                   \r\n\r\n                                   <td >{f.Branch_Name}</td>\r\n                                   <td >{f.Branch_RegNo} </td>\r\n                                   <td >{f.Contact_Number} </td>\r\n                                   <td >{f.Address} </td>\r\n                                   <td >{f.Holidays}</td>\r\n                                   <td >{f.Open_Close_Status}</td>\r\n                                   <td >{f.Description}</td>\r\n                                   <td >{f.E_mail }</td>\r\n                                    \r\n\r\n                                   <td > <IconButton  aria-label=\"delete\"  onClick={() =>deletebranch(f._id)}>\r\n                                       \r\n               \r\n         <DeleteIcon fontSize=\"small\" />\r\n       </IconButton></td>\r\n\r\n       <td > <IconButton aria-label=\"delete\"  >\r\n                                       \r\n               \r\n                                       <EditIcon fontSize=\"small\" />\r\n                                     </IconButton></td>\r\n\r\n                               </tr>\r\n\r\n                           })\r\n                       }\r\n                   </tbody>\r\n                   </table>\r\n               </table>\r\n</div>\r\n</div>\r\n\r\n       </>\r\n   \r\n   )\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}