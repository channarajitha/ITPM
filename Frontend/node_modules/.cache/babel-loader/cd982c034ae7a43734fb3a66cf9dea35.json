{"ast":null,"code":"var _jsxFileName = \"/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Allemployee.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\"; //import Header from \"./Header\";\n\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable'; //import './Addemployee.css';\n\nimport swal from 'sweetalert';\nexport default function AllEmployee() {\n  const [employees, setEmployees] = useState([]);\n  const [searchTerm, setsearchTerm] = useState(\"\");\n\n  const deleteEmployee = id => {\n    axios.delete(`http://localhost:5000/employee/deleteemp/${id}`).then(() => {\n      swal({\n        title: \"Are you sure?\",\n        text: \"The Employee Will be Deleted from Employee List\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          swal(\"The file has been deleted!\", \"success\");\n          setTimeout(function () {\n            window.location.reload();\n          }, 1000);\n        } else {\n          swal(\"File Is Not Deleted\");\n        }\n      }); // ;\n    });\n  };\n\n  const generatePDF = data => {\n    const doc = new jsPDF();\n    const tableColumn = [\"Name\", \"Employee ID\", \"Email\", \"Mobile Number\", \"Salary\", \"Address\"];\n    const tableRows = [];\n    const date = Date().split(\" \");\n    const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\n    data.map(d => {\n      const empData = [d.name, d.employeeID, d.email, d.monum, d.salary, d.address];\n      tableRows.push(empData);\n    });\n    doc.text(\"V Star Hardware Pvt Ltd\", 70, 8).setFontSize(13);\n    doc.text(\"Employee Detail Report\", 14, 16).setFontSize(13); //right down width height\n    //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\n\n    doc.autoTable(tableColumn, tableRows, {\n      styles: {\n        fontSize: 8\n      },\n      startY: 35\n    });\n    doc.save(\"Employee Details Report.pdf\");\n  };\n\n  useEffect(() => {\n    //fetching all supplier data from the database\n    function getEmployees() {\n      axios.get(\"http://localhost:5000/employee/allemp\").then(res => {\n        setEmployees(res.data);\n      }).catch(err => {\n        alert(err.message);\n      });\n    }\n\n    getEmployees();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 4\n    }\n  }, \" Employee Management \")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"lft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search...\",\n    className: \"form-control\",\n    style: {\n      margintop: 50,\n      marginbottom: 20,\n      width: \"40%\"\n    },\n    onChange: e => {\n      setsearchTerm(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 28\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 28\n    }\n  }, \"Employee ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 28\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 28\n    }\n  }, \"Mobile Number\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 28\n    }\n  }, \"Salary\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 28\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 28\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 28\n    }\n  }, \"Edit\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 20\n    }\n  }, employees.filter(val => {\n    if (setsearchTerm === '') {\n      return val;\n    } else if (val.name.toLowerCase().includes(searchTerm.toLocaleLowerCase()) || val.employeeID.toLowerCase().includes(searchTerm.toLocaleLowerCase()) || val.monum.toLowerCase().includes(searchTerm.toLocaleLowerCase())) {\n      return val;\n    }\n  }).map(function (f) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 36\n      }\n    }, f.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 36\n      }\n    }, f.employeeID, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 36\n      }\n    }, f.email, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 36\n      }\n    }, f.monum, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 36\n      }\n    }, f.salary), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 36\n      }\n    }, f.address), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 36\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      onClick: () => deleteEmployee(f._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 10\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 8\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(EditIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 40\n      }\n    }))));\n  })))), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table\",\n    width: \"300px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 27\n    }\n  }, \"Employee Count : \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 27\n    }\n  }, employees.length)))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"buttonn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary btn-sm\",\n    onClick: () => {\n      generatePDF(employees);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 8\n    }\n  }, \"GenerateReport\")));\n}","map":{"version":3,"sources":["/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Allemployee.js"],"names":["React","useState","useEffect","axios","IconButton","DeleteIcon","EditIcon","jsPDF","swal","AllEmployee","employees","setEmployees","searchTerm","setsearchTerm","deleteEmployee","id","delete","then","title","text","icon","buttons","dangerMode","willDelete","setTimeout","window","location","reload","generatePDF","data","doc","tableColumn","tableRows","date","Date","split","dateStr","map","d","empData","name","employeeID","email","monum","salary","address","push","setFontSize","autoTable","styles","fontSize","startY","save","getEmployees","get","res","catch","err","alert","message","margintop","marginbottom","width","e","target","value","filter","val","toLowerCase","includes","toLocaleLowerCase","f","_id","length"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport axios from \"axios\";\r\n//import Header from \"./Header\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport jsPDF from 'jspdf'\r\nimport 'jspdf-autotable'\r\n//import './Addemployee.css';\r\n \r\nimport swal from 'sweetalert';\r\n\r\nexport default function AllEmployee(){\r\n\r\n    const [employees, setEmployees] = useState([]);\r\n    const [searchTerm, setsearchTerm] = useState(\"\");\r\n\r\n    const deleteEmployee=(id) =>{\r\n        axios.delete(`http://localhost:5000/employee/deleteemp/${id}`).then(()=>{\r\n            swal({\r\n                title: \"Are you sure?\",\r\n                text: \"The Employee Will be Deleted from Employee List\",\r\n                icon: \"warning\",\r\n                buttons: true,\r\n                dangerMode: true,\r\n              })\r\n              .then((willDelete) => {\r\n                if (willDelete) {\r\n                  swal(\"The file has been deleted!\", \r\n                    \"success\",\r\n                  );  setTimeout(function(){\r\n                    window.location.reload();\r\n                   },1000);\r\n                } else {\r\n                  swal(\"File Is Not Deleted\");\r\n                }\r\n              });\r\n        // ;\r\n        })\r\n    }\r\n\r\n\r\n    const generatePDF = (data) => {\r\n\r\n      const doc = new jsPDF();\r\n      const tableColumn = [\"Name\", \"Employee ID\", \"Email\", \"Mobile Number\", \"Salary\", \"Address\" ];\r\n      const tableRows = [];\r\n      const date = Date().split(\" \");\r\n      const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\r\n\r\n      data.map(d => {\r\n          const empData = [\r\n              d.name,\r\n              d.employeeID,\r\n              d.email,\r\n              d.monum,\r\n              d.salary,\r\n              d.address\r\n          ];\r\n          tableRows.push(empData);\r\n      })\r\n      doc.text(\"V Star Hardware Pvt Ltd\", 70, 8).setFontSize(13);\r\n      doc.text(\"Employee Detail Report\", 14, 16).setFontSize(13);\r\n    \r\n      //right down width height\r\n      //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\r\n      doc.autoTable(tableColumn, tableRows, { styles: { fontSize: 8, }, startY:35});\r\n      doc.save(\"Employee Details Report.pdf\");\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        //fetching all supplier data from the database\r\n        function getEmployees(){\r\n        axios.get(\"http://localhost:5000/employee/allemp\").then((res) => {\r\n            setEmployees(res.data);\r\n            }\r\n        ).catch((err) => {\r\n            alert(err.message);\r\n        })\r\n    }\r\n    getEmployees();\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n        <div class=\"head\">\r\n        <br></br>\r\n          <br></br>\r\n          \r\n   <h3> Employee Management </h3>\r\n\r\n    \r\n   </div>\r\n   \r\n   \r\n    \r\n       <div class=\"lft\">\r\n<div class=\"card1\" >\r\n<br></br>\r\n          <br></br>\r\n          <br></br>\r\n          <br></br>\r\n          <input type = \"text\"\r\nplaceholder =\"Search...\"\r\nclassName=\"form-control\"\r\nstyle ={{margintop:50, marginbottom:20, width:\"40%\"}}\r\nonChange = {(e) =>{\r\n  setsearchTerm(e.target.value);\r\n \r\n  \r\n}}/>\r\n    \r\n \r\n<br></br>         \r\n   <table class=\"table table-bordered\">\r\n        <table class=\"table table-hover\" >\r\n         \r\n                   <thead>\r\n                \r\n                       <tr>\r\n              \r\n                           <th>Name</th>\r\n                           <th>Employee ID</th>\r\n                           <th>Email</th>\r\n                           <th>Mobile Number</th>\r\n                           <th>Salary</th>\r\n                           <th>Address</th>\r\n                           <th>Delete</th>\r\n                           <th>Edit</th>\r\n\r\n                       </tr>\r\n                   </thead>\r\n                   <tbody>\r\n                    \r\n                      \r\n\r\n\r\n                      \r\n                       {\r\n                           employees.filter((val) =>{\r\n                            if (setsearchTerm===''){\r\n                              return val;\r\n                            }\r\n                            else if (\r\n                              val.name.toLowerCase().includes(searchTerm.toLocaleLowerCase()) ||\r\n                              val.employeeID.toLowerCase().includes(searchTerm.toLocaleLowerCase()) ||\r\n                              val.monum.toLowerCase().includes(searchTerm.toLocaleLowerCase()) \r\n                            ){\r\n                              return val;\r\n\r\n                            }\r\n                          }).map(function (f) {\r\n                               return <tr>\r\n                                   \r\n\r\n                                   <td >{f.name}</td>\r\n                                   <td >{f.employeeID} </td>\r\n                                   <td >{f.email} </td>\r\n                                   <td >{f.monum} </td>\r\n                                   <td >{f.salary}</td>\r\n                                   <td >{f.address}</td>\r\n                                    \r\n\r\n                                   <td > <IconButton aria-label=\"delete\"  onClick={() =>deleteEmployee  (f._id)}>\r\n                                       \r\n               \r\n         <DeleteIcon fontSize=\"small\" />\r\n       </IconButton></td>\r\n\r\n       <td > <IconButton aria-label=\"delete\"  >\r\n                                       \r\n               \r\n                                       <EditIcon fontSize=\"small\" />\r\n                                     </IconButton></td>\r\n\r\n                               </tr>\r\n\r\n                           })\r\n                       }\r\n                   </tbody>\r\n                   </table>\r\n                   \r\n               </table>\r\n\r\n              \r\n                <table class=\"table\" width=\"300px\" >\r\n         \r\n                   <thead>\r\n                \r\n                       <tr>\r\n              \r\n                          <th>Employee Count : </th>\r\n                          \r\n                          <th>\r\n                              {                              \r\n                                employees.length\r\n                              }\r\n                          </th>\r\n\r\n                       </tr>\r\n                   </thead>\r\n                  \r\n                </table>\r\n                   \r\n              \r\n               \r\n               \r\n</div>\r\n</div>\r\n\r\n<div class=\"buttonn\">\r\n       <button type=\"button\" class=\"btn btn-secondary btn-sm\" onClick={() =>{\r\n         generatePDF(employees);\r\n       }}>GenerateReport</button>\r\n   </div>\r\n   \r\n\r\n       </>\r\n   \r\n   )\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}