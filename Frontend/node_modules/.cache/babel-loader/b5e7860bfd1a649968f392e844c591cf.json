{"ast":null,"code":"var _jsxFileName = \"/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Allorder.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\"; //import Header from \"./Header\";\n\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit'; //import './Allorder.css';\n\nimport { Link } from 'react-router-dom';\nimport jspdf from 'jspdf';\nimport \"jspdf-autotable\"; //import img from '../components/logo.jpg';\n\nimport swal from 'sweetalert';\nexport default function Allorder() {\n  const [orders, setOrders] = useState([]);\n  const [searchTerm, setsearchTerm] = useState(\"\");\n\n  const deleteOrder = id => {\n    axios.delete(`http://localhost:5000/order/deleteOrder/${id}`).then(() => {\n      swal({\n        title: \"Are you sure?\",\n        text: \"The Order Will be Deleted from Order List\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          swal(\"The file has been deleted!\", \"success\");\n          setTimeout(function () {\n            window.location.reload();\n          }, 1000);\n        } else {\n          swal(\"File Is Not Deleted\");\n        }\n      });\n    });\n  };\n\n  useEffect(() => {\n    function getOrder() {\n      axios.get(\"http://localhost:5000/order/allOrder\").then(res => {\n        setOrders(res.data);\n      }).catch(err => {\n        alert(err.massage);\n      });\n    }\n\n    getOrder();\n  }, []); // genarate pdf\n\n  const generatePDF = tickets => {\n    const doc = new jspdf();\n    const tableColumn = [\"order ID\", \"Full Name\", \"Dilivery Address\", \"Contact No\", \"Item Name\", \"Quantity\", \"Request Date\"];\n    const tableRows = [];\n    const date = Date().split(\" \");\n    const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\n    tickets.map(ticket => {\n      const ticketData = [ticket._id, ticket.name, ticket.diliveryaddress, ticket.cphone, ticket.item_name, ticket.item_quantity, ticket.req_date];\n      tableRows.push(ticketData);\n    });\n    doc.text(\"Order Detail Report\", 14, 16).setFontSize(13);\n    doc.text(`Report Genarated Date - ${dateStr}`, 14, 23); //right down width height\n    // doc.addImage(img, 'JPEG', 170, 8, 25, 25);\n\n    doc.autoTable(tableColumn, tableRows, {\n      styles: {\n        fontSize: 8\n      },\n      startY: 35\n    });\n    doc.save(\"Order Details Report.pdf\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }\n  }, \" Order Management\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"buttonn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary btn-sm\",\n    onClick: () => generatePDF(orders),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 8\n    }\n  }, \"GenerateReport\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 124\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"text\",\n    class: \"btnq btnq--skew btnq-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 8\n    }\n  }, \" Order Count : \", orders.length, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"lft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"search..\",\n    className: \"form-control\",\n    style: {\n      margintop: 50,\n      marginbottom: 50,\n      width: \"40%\"\n    },\n    onChange: e => {\n      setsearchTerm(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 28\n    }\n  }, \"Order ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 28\n    }\n  }, \"Full Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 28\n    }\n  }, \"Dilivery Address\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 28\n    }\n  }, \"Contact No\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 28\n    }\n  }, \"Item Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 28\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 28\n    }\n  }, \"Request Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 28\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 28\n    }\n  }, \"Edit\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 20\n    }\n  }, orders.filter(val => {\n    if (searchTerm === '') {\n      return val;\n    } else if (val.name.toLowerCase().includes(searchTerm.toLowerCase()) || val.diliveryaddress.toLowerCase().includes(searchTerm.toLowerCase()) || val.req_date.toLowerCase().includes(searchTerm.toLowerCase()) || val.cphone.toLowerCase().includes(searchTerm.toLowerCase())) {\n      return val;\n    }\n  }).map(function (f) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 36\n      }\n    }, f._id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 36\n      }\n    }, f.name, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 36\n      }\n    }, f.diliveryaddress, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 36\n      }\n    }, f.cphone, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 36\n      }\n    }, f.item_name, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 36\n      }\n    }, f.item_quantity, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 36\n      }\n    }, f.req_date, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 36\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      onClick: () => deleteOrder(f._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 10\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 8\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(EditIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 40\n      }\n    }))));\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/addOrder\",\n    className: \"nav-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }, \"Place a new order\"))))));\n}","map":{"version":3,"sources":["/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Allorder.js"],"names":["React","useState","useEffect","axios","IconButton","DeleteIcon","EditIcon","Link","jspdf","swal","Allorder","orders","setOrders","searchTerm","setsearchTerm","deleteOrder","id","delete","then","title","text","icon","buttons","dangerMode","willDelete","setTimeout","window","location","reload","getOrder","get","res","data","catch","err","alert","massage","generatePDF","tickets","doc","tableColumn","tableRows","date","Date","split","dateStr","map","ticket","ticketData","_id","name","diliveryaddress","cphone","item_name","item_quantity","req_date","push","setFontSize","autoTable","styles","fontSize","startY","save","length","margintop","marginbottom","width","e","target","value","filter","val","toLowerCase","includes","f"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport axios from \"axios\";\r\n//import Header from \"./Header\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n//import './Allorder.css';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport jspdf from 'jspdf'\r\nimport \"jspdf-autotable\"\r\n\r\n//import img from '../components/logo.jpg';\r\n \r\nimport swal from 'sweetalert';\r\n\r\nexport default function Allorder(){\r\n\r\n    const [orders, setOrders] = useState([]);\r\n    const [searchTerm, setsearchTerm] = useState(\"\");\r\n\r\n    const deleteOrder=(id) =>{\r\n        axios.delete(`http://localhost:5000/order/deleteOrder/${id}`).then(()=>{\r\n            swal({\r\n                title: \"Are you sure?\",\r\n                text: \"The Order Will be Deleted from Order List\",\r\n                icon: \"warning\",\r\n                buttons: true,\r\n                dangerMode: true,\r\n              })\r\n              .then((willDelete) => {\r\n                if (willDelete) {\r\n                  swal(\"The file has been deleted!\", \r\n                    \"success\",\r\n                  );  setTimeout(function(){\r\n                    window.location.reload();\r\n                   },1000);\r\n                } else {\r\n                  swal(\"File Is Not Deleted\");\r\n                }\r\n              });\r\n        \r\n        })\r\n      }\r\n\r\n    useEffect(() =>{\r\n        function getOrder(){\r\n            axios.get(\"http://localhost:5000/order/allOrder\").then((res) => {\r\n                setOrders(res.data);\r\n            \r\n            }).catch((err) => {\r\n                alert(err.massage);\r\n            })\r\n        }\r\n        getOrder();\r\n\r\n    }, [])\r\n\r\n     // genarate pdf\r\n\r\n     const generatePDF = tickets => {\r\n\r\n        const doc = new jspdf();\r\n        const tableColumn = [\"order ID\", \"Full Name\", \"Dilivery Address\", \"Contact No\", \"Item Name\", \"Quantity\", \"Request Date\"];\r\n        const tableRows = [];\r\n        const date = Date().split(\" \");\r\n        const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\r\n\r\n        tickets.map(ticket => {\r\n            const ticketData = [\r\n                ticket._id,\r\n                ticket.name,\r\n                ticket.diliveryaddress,\r\n                ticket.cphone,\r\n                ticket.item_name,\r\n                ticket.item_quantity,\r\n                ticket.req_date,\r\n            ];\r\n            tableRows.push(ticketData);\r\n        })\r\n        doc.text(\"Order Detail Report\", 14, 16).setFontSize(13);\r\n        doc.text(`Report Genarated Date - ${dateStr}`, 14, 23);\r\n        //right down width height\r\n       // doc.addImage(img, 'JPEG', 170, 8, 25, 25);\r\n        doc.autoTable(tableColumn, tableRows, { styles: { fontSize: 8, }, startY:35});\r\n        doc.save(\"Order Details Report.pdf\");\r\n    };\r\n\r\n   \r\n\r\n    return (\r\n        <>\r\n        <div class=\"head\">\r\n        <br></br>\r\n          <br></br>\r\n          <br></br>\r\n   <h3> Order Management</h3>\r\n   \r\n   \r\n   </div>\r\n   <br></br>\r\n   <div class=\"buttonn\">\r\n       <button type=\"button\" class=\"btn btn-secondary btn-sm\" onClick={() => generatePDF(orders)} >GenerateReport</button> <br></br>\r\n       <button type=\"text\" class=\"btnq btnq--skew btnq-default\"> Order Count : {orders.length} </button>\r\n   </div>\r\n  \r\n<div class=\"lft\">\r\n<br></br>\r\n<br></br>\r\n<div class=\"card1\" >\r\n<input type =\"text\" placeholder=\"search..\" className=\"form-control\" style={{margintop:50, marginbottom:50, width:\"40%\"}}\r\n    onChange ={(e) => {\r\n        setsearchTerm(e.target.value);\r\n    }} />\r\n   <br></br>\r\n   \r\n   <table class=\"table table-bordered\">\r\n        <table class=\"table table-hover\" >\r\n                   <thead>\r\n                       <tr>\r\n                           <th>Order ID</th>\r\n                           <th>Full Name</th>\r\n                           <th>Dilivery Address</th>\r\n                           <th>Contact No</th>\r\n                           <th>Item Name</th>\r\n                           <th>Quantity</th>\r\n                           <th>Request Date</th>\r\n                           <th>Delete</th>\r\n                           <th>Edit</th>\r\n\r\n                       </tr>\r\n                   </thead>\r\n                   <tbody>\r\n                       {\r\n                            orders.filter(val=>{\r\n                                if (searchTerm === ''){\r\n                                    return val;\r\n                                } else if(\r\n                                    val.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                                    val.diliveryaddress.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                                    val.req_date.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                                    val.cphone.toLowerCase().includes(searchTerm.toLowerCase())\r\n                                    \r\n                                ){\r\n                                    return val;\r\n                                }\r\n                            }).map(function (f) {\r\n                               return <tr>\r\n                                   \r\n\r\n                                   <td >{f._id}</td>\r\n                                   <td >{f.name} </td>\r\n                                   <td >{f.diliveryaddress} </td>\r\n                                   <td >{f.cphone} </td>\r\n                                   <td >{f.item_name} </td>\r\n                                   <td >{f.item_quantity} </td>\r\n                                   <td >{f.req_date} </td>\r\n                                    \r\n\r\n                                   <td > <IconButton aria-label=\"delete\"  onClick={() => deleteOrder(f._id)}>\r\n                                       \r\n               \r\n         <DeleteIcon fontSize=\"small\" />\r\n       </IconButton></td>\r\n\r\n       <td > <IconButton aria-label=\"delete\"  >\r\n                                       \r\n               \r\n                                       <EditIcon fontSize=\"small\" />\r\n                                     </IconButton></td>\r\n\r\n                               </tr>\r\n\r\n                           })\r\n                       }\r\n                   </tbody>\r\n                   </table>\r\n               </table>\r\n               <div><button><Link to=\"/addOrder\" className=\"nav-link\">Place a new order</Link></button></div>\r\n</div>\r\n</div>\r\n\r\n       </>\r\n   \r\n   )\r\n\r\n}"]},"metadata":{},"sourceType":"module"}