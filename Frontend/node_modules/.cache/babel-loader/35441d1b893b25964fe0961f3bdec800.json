{"ast":null,"code":"var _jsxFileName = \"/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Alldelivery.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\"; //import Header from \"./Header\";\n\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport jspdf from 'jspdf';\nimport \"jspdf-autotable\"; //import './AddDelivery.css';\n\nimport './AddDelivery';\nimport { Link } from 'react-router-dom';\nimport swal from 'sweetalert';\nexport default function Alldelivery() {\n  const [deliveries, setDelivery] = useState([]);\n  const [searchTerm, setsearchTerm] = useState(\"\");\n\n  const deleteDelivery = id => {\n    axios.delete(`http://localhost:5000/delivery/deletedel/${id}`).then(() => {\n      swal({\n        title: \"Are you sure?\",\n        text: \"The Item Will be Deleted from Delivery List\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          swal(\"The file has been deleted!\", \"success\");\n          setTimeout(function () {\n            window.location.reload();\n          }, 1000);\n        } else {\n          swal(\"File Is Not Deleted\");\n        }\n      }); // ;\n    });\n  };\n\n  useEffect(() => {\n    //fetching all delivery data from the database\n    function getDelivery() {\n      axios.get(\"http://localhost:5000/delivery/alldel\").then(res => {\n        setDelivery(res.data);\n        debugger;\n      }).catch(err => {\n        alert(err.message);\n      });\n    }\n\n    getDelivery();\n  }, []); // genarate pdf\n\n  const generatePDF = tickets => {\n    const doc = new jspdf();\n    const tableColumn = [\"delivery_id\", \"customer_name\", \"customer_location\", \"customer_phone_number\", \"branch_id\", \"delivery_date\", \"order_status\"];\n    const tableRows = [];\n    const date = Date().split(\" \");\n    const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\n    tickets.map(ticket => {\n      const ticketData = [ticket.delivery_id, ticket.customer_name, ticket.customer_location, ticket.customer_phone_number, ticket.branch_id, ticket.delivery_date, ticket.order_status];\n      tableRows.push(ticketData);\n    });\n    doc.text(\"V Star Hardware Pvt Ltd\", 70, 8).setFontSize(13);\n    doc.text(\"Delivery Detail Report\", 14, 16).setFontSize(13);\n    doc.text(`Report Genarated Date - ${dateStr}`, 14, 23); //right down width height\n    //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\n\n    doc.autoTable(tableColumn, tableRows, {\n      styles: {\n        fontSize: 8\n      },\n      startY: 35\n    });\n    doc.save(\"Delivery Details Report.pdf\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }\n  }, \" Delivery Management\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"buttonn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary btn-sm\",\n    onClick: () => generatePDF(deliveries),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 8\n    }\n  }, \"GenerateReport\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"lft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search..\",\n    className: \"form-control\",\n    style: {\n      margintop: 50,\n      marginbottom: 20,\n      width: \"40%\"\n    },\n    onChange: e => {\n      setsearchTerm(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 1\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 28\n    }\n  }, \"Delivery ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 28\n    }\n  }, \"Customer Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 28\n    }\n  }, \"Customer Location\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 28\n    }\n  }, \"Customer Phone Number\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 28\n    }\n  }, \"Branch ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 28\n    }\n  }, \"Delivery Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 28\n    }\n  }, \"Order Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 28\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 28\n    }\n  }, \"Edit\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 20\n    }\n  }, deliveries.filter(val => {\n    if (searchTerm === '') {\n      return val;\n    } else if (val.delivery_id.toLowerCase().includes(searchTerm.toLowerCase())) {\n      return val;\n    }\n  }).map(function (f) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 28\n      }\n    }, f.delivery_id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 28\n      }\n    }, f.customer_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 28\n      }\n    }, f.customer_location), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 28\n      }\n    }, f.customer_phone_number), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 28\n      }\n    }, f.branch_id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 28\n      }\n    }, f.delivery_date), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 28\n      }\n    }, f.order_status), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 28\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      onClick: () => deleteDelivery(f._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 10\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 8\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"EDIT\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(EditIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 40\n      }\n    }))));\n  })))))));\n}","map":{"version":3,"sources":["/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Alldelivery.js"],"names":["React","useState","useEffect","axios","IconButton","DeleteIcon","EditIcon","jspdf","Link","swal","Alldelivery","deliveries","setDelivery","searchTerm","setsearchTerm","deleteDelivery","id","delete","then","title","text","icon","buttons","dangerMode","willDelete","setTimeout","window","location","reload","getDelivery","get","res","data","catch","err","alert","message","generatePDF","tickets","doc","tableColumn","tableRows","date","Date","split","dateStr","map","ticket","ticketData","delivery_id","customer_name","customer_location","customer_phone_number","branch_id","delivery_date","order_status","push","setFontSize","autoTable","styles","fontSize","startY","save","margintop","marginbottom","width","e","target","value","filter","val","toLowerCase","includes","f","_id"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport axios from \"axios\";\n//import Header from \"./Header\";\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport jspdf from 'jspdf'\nimport \"jspdf-autotable\"\n//import './AddDelivery.css';\nimport './AddDelivery';\nimport {Link} from 'react-router-dom';\n \nimport swal from 'sweetalert';\n\nexport default function Alldelivery(){\n\n    const [deliveries, setDelivery] = useState([]);\n    const [searchTerm, setsearchTerm] = useState(\"\");\n\n    const deleteDelivery=(id) =>{\n        axios.delete(`http://localhost:5000/delivery/deletedel/${id}`).then(()=>{\n            swal({\n                title: \"Are you sure?\",\n                text: \"The Item Will be Deleted from Delivery List\",\n                icon: \"warning\",\n                buttons: true,\n                dangerMode: true,\n              })\n              .then((willDelete) => {\n                if (willDelete) {\n                  swal(\"The file has been deleted!\", \n                    \"success\",\n                  );  setTimeout(function(){\n                    window.location.reload();\n                   },1000);\n                } else {\n                  swal(\"File Is Not Deleted\");\n                }\n              });\n        // ;\n        })\n      }\n\n\n\n    useEffect(() => {\n        //fetching all delivery data from the database\n        function getDelivery(){\n        axios.get(\"http://localhost:5000/delivery/alldel\").then((res) => {\n            setDelivery(res.data);\n            debugger\n            }\n        ).catch((err) => {\n            alert(err.message);\n        })\n    }\n    getDelivery();\n    }, [])\n\n// genarate pdf\n\nconst generatePDF = tickets => {\n\n    const doc = new jspdf();\n    const tableColumn = [\"delivery_id\" , \"customer_name\", \"customer_location\", \"customer_phone_number\", \"branch_id\", \"delivery_date\" , \"order_status\" ];\n    const tableRows = [];\n    const date = Date().split(\" \");\n    const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\n\n    tickets.map(ticket => {\n        const ticketData = [\n            ticket.delivery_id,\n            ticket.customer_name,\n            ticket.customer_location,\n            ticket.customer_phone_number,\n            ticket.branch_id,\n            ticket.delivery_date,\n            ticket.order_status, \n        ];\n        tableRows.push(ticketData);\n    })\n    doc.text(\"V Star Hardware Pvt Ltd\", 70, 8).setFontSize(13);\n    doc.text(\"Delivery Detail Report\", 14, 16).setFontSize(13);\n    doc.text(`Report Genarated Date - ${dateStr}`, 14, 23);\n    //right down width height\n    //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\n    doc.autoTable(tableColumn, tableRows, { styles: { fontSize: 8, }, startY:35});\n    doc.save(\"Delivery Details Report.pdf\");\n};\n\n    return (\n        <>\n        <div class=\"head\">\n        <br></br>\n          <br></br>\n          \n   <h3> Delivery Management</h3>\n    \n   </div>\n   \n   <div class=\"buttonn\">\n       <button type=\"button\" class=\"btn btn-secondary btn-sm\" onClick={() => generatePDF(deliveries)} >GenerateReport</button>\n   </div>\n    \n       <div class=\"lft\">\n       <br></br>\n<div class=\"wrap\">\n<div class=\"card\" >\n<div class=\"search\">\n<input type=\"text\" placeholder=\"Search..\" className=\"form-control\" style={{margintop:50,marginbottom:20,width:\"40%\"}}\n      onChange = {(e) => {\n          setsearchTerm(e.target.value);\n      }}/>\n      \n</div>\n</div>\n<br></br>\n\n          <br></br>\n          <br></br>\n          <br></br>\n           \n   <table class=\"table table-bordered\">\n        <table class=\"table table-hover\" >\n         \n                   <thead>\n                \n                       <tr>\n              \n                           <th>Delivery ID</th>\n                           <th>Customer Name</th>\n                           <th>Customer Location</th>\n                           <th>Customer Phone Number</th>\n                           <th>Branch ID</th>\n                           <th>Delivery Date</th>\n                           <th>Order Status</th>\n                           <th>Delete</th>\n                           <th>Edit</th>\n\n                       </tr>\n                   </thead>\n                   <tbody>\n                   {\ndeliveries.filter(val=>{\n    if(searchTerm === ''){\n        return val;\n    }else if(\n        val.delivery_id.toLowerCase().includes(searchTerm.toLowerCase()) \n         \n         \n\n    ){\n        return val;\n    }\n    }).map(function (f) {\n                               return <tr>\n                                   \n                           <td>{f.delivery_id}</td>\n                           <td>{f.customer_name}</td>\n                           <td>{f.customer_location}</td>\n                           <td>{f.customer_phone_number}</td>\n                           <td>{f.branch_id}</td>\n                           <td>{f.delivery_date}</td>\n                           <td>{f.order_status}</td>\n                                       \n                          \n                           <td > <IconButton aria-label=\"delete\"  onClick={() =>deleteDelivery  (f._id)}>\n                                       \n               \n         <DeleteIcon fontSize=\"small\" />\n       </IconButton></td>\n\n       <td > <IconButton aria-label=\"EDIT\"  >\n                                       \n               \n                                       <EditIcon fontSize=\"small\" />\n                                     </IconButton></td>\n\n\n                               </tr>\n\n                           })\n                       }\n                   </tbody>\n                   </table>\n               </table>\n</div>\n</div>\n\n       </>\n   \n   )\n\n\n\n\n\n\n\n\n}"]},"metadata":{},"sourceType":"module"}