{"ast":null,"code":"var _jsxFileName = \"/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Allreturnstock.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\"; //import './Addreturnstock.css';\n\nimport jspdf from 'jspdf';\nimport \"jspdf-autotable\";\nimport { Link } from 'react-router-dom';\nimport swal from 'sweetalert';\nexport default function AllReturnstock() {\n  const [returnstocks, setReturnstock] = useState([]);\n  const [searchTerm, setsearchTerm] = useState(\"\");\n\n  const deleteReturnstock = id => {\n    axios.delete(`http://localhost:3000/returnstock/deleteret/${id}`).then(() => {\n      swal({\n        title: \"Are you sure?\",\n        text: \"The Item Will be Deleted from RETURN STOCK List\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: \"true\"\n      }).then(willDelete => {\n        if (willDelete) {\n          swal(\"The file has been deleted!\", \"success\");\n          setTimeout(function () {\n            window.location.reload();\n          }, 1000);\n        } else {\n          swal(\"File Is Not Deleted\");\n        }\n      });\n    });\n  };\n\n  useEffect(() => {\n    //fetching all return item data from the database\n    function getReturnstocks() {\n      axios.get(\"http://localhost:3000/returnstock/allret\").then(res => {\n        setReturnstock(res.data);\n      }).catch(err => {\n        alert(err.message);\n      });\n    }\n\n    getReturnstocks();\n  }, []); // genarate pdf\n\n  const generatePDF = tickets => {\n    const doc = new jspdf();\n    const tableColumn = [\"Customer name\", \"Customer id\", \"Item name\", \"Quantity\", \"Item code\", \"Return reason\", \"Date Of Purchase \", \"Item Image\"];\n    const tableRows = [];\n    const date = Date().split(\" \");\n    const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\n    tickets.map(ticket => {\n      const ticketData = [ticket.customer_name, ticket.customer_id, ticket.item_name, ticket.quantity, ticket.item_code, ticket.return_reason, ticket.date_of_purchase, ticket.item_image];\n      tableRows.push(ticketData);\n    });\n    doc.text(\"V Star Hardware Pvt Ltd\", 70, 8).setFontSize(13);\n    doc.text(\"Retun item Detail Report\", 14, 16).setFontSize(13);\n    doc.text(`Report Genarated Date - ${dateStr}`, 14, 23); //right down width height\n    //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\n\n    doc.autoTable(tableColumn, tableRows, {\n      styles: {\n        fontSize: 8\n      },\n      startY: 35\n    });\n    doc.save(\"Return item Details Report.pdf\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 4\n    }\n  }, \" RETURN STOCK MANAGEMENT\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"buttonn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary btn-sm\",\n    onClick: () => generatePDF(returnstocks),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 8\n    }\n  }, \"GenerateReport\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"lft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search..\",\n    className: \"form-control\",\n    style: {\n      margintop: 50,\n      marginbottom: 20,\n      width: \"40%\"\n    },\n    onChange: e => {\n      setsearchTerm(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 1\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/addret\",\n    className: \"btn btn-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 26\n    }\n  }, \"Add Another Return Item Detail\")), \" \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 28\n    }\n  }, \" Customer name  \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 28\n    }\n  }, \"Customer id     \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }, \"Item name       \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }, \"Quantity        \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, \"Item code       \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, \"Return reason   \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 29\n    }\n  }, \"Date of purchase \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, \" Item Image \"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, \"Delete         \"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 20\n    }\n  }, returnstocks.filter(val => {\n    if (searchTerm === '') {\n      return val;\n    } else if (val.customer_name.toLowerCase().includes(searchTerm.toLowerCase())) {\n      return val;\n    }\n  }).map(function (f) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 36\n      }\n    }, f.customer_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 36\n      }\n    }, f.customer_id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 36\n      }\n    }, f.item_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 36\n      }\n    }, f.quantity), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 36\n      }\n    }, f.item_code), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 36\n      }\n    }, f.return_reason), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 36\n      }\n    }, f.date_of_purchase), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 36\n      }\n    }, f.item_image), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 36\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => {\n        deleteReturnstock(f._id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 42\n      }\n    }, \"Delete\")));\n  })))))), \" \");\n}","map":{"version":3,"sources":["/Users/roshanidissanayake/Desktop/login 3/frontend/src/components/body/Allreturnstock.js"],"names":["React","useState","useEffect","axios","jspdf","Link","swal","AllReturnstock","returnstocks","setReturnstock","searchTerm","setsearchTerm","deleteReturnstock","id","delete","then","title","text","icon","buttons","dangerMode","willDelete","setTimeout","window","location","reload","getReturnstocks","get","res","data","catch","err","alert","message","generatePDF","tickets","doc","tableColumn","tableRows","date","Date","split","dateStr","map","ticket","ticketData","customer_name","customer_id","item_name","quantity","item_code","return_reason","date_of_purchase","item_image","push","setFontSize","autoTable","styles","fontSize","startY","save","margintop","marginbottom","width","e","target","value","filter","val","toLowerCase","includes","f","_id"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport axios from \"axios\";\n//import './Addreturnstock.css';\nimport jspdf from 'jspdf'\nimport \"jspdf-autotable\"\nimport {Link} from 'react-router-dom';\n \nimport swal from 'sweetalert';\n\nexport default function AllReturnstock(){\n\n    const [returnstocks, setReturnstock] = useState([]);\n    const [searchTerm, setsearchTerm] = useState(\"\");\n\n    const deleteReturnstock=(id) =>{\n        axios.delete(`http://localhost:3000/returnstock/deleteret/${id}`).then(()=>{\n            swal({\n                title: \"Are you sure?\",\n                text: \"The Item Will be Deleted from RETURN STOCK List\",\n                icon: \"warning\",\n                buttons: true,\n                dangerMode: \"true\"\n              })\n              .then((willDelete) => {\n                if (willDelete) {\n                  swal(\"The file has been deleted!\", \n                    \"success\",\n                  );  setTimeout(function(){\n                    window.location.reload();\n                   },1000);\n                } else {\n                  swal(\"File Is Not Deleted\");\n                }\n              });\n       \n        })\n      }\n\n\n    useEffect(() => {\n        //fetching all return item data from the database\n        function getReturnstocks(){\n        axios.get(\"http://localhost:3000/returnstock/allret\").then((res) => {\n            setReturnstock(res.data);\n            }\n        ).catch((err) => {\n            alert(err.message);\n        })\n    }\n    getReturnstocks();\n    }, [])\n\n     // genarate pdf\n\n     const generatePDF = tickets => {\n\n        const doc = new jspdf();\n        const tableColumn = [\"Customer name\", \"Customer id\",\"Item name\" ,\"Quantity\",\"Item code\",\"Return reason\",\"Date Of Purchase \",\"Item Image\"];\n        const tableRows = [];\n        const date = Date().split(\" \");\n        const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\n\n        tickets.map(ticket => {\n            const ticketData = [\n                ticket.customer_name,\n                ticket.customer_id,\n                ticket.item_name,\n                ticket.quantity,\n                ticket.item_code,\n                ticket.return_reason,\n                ticket.date_of_purchase,\n                ticket.item_image\n                \n                 \n            ];\n            tableRows.push(ticketData);\n        })\n        doc.text(\"V Star Hardware Pvt Ltd\", 70, 8).setFontSize(13);\n        doc.text(\"Retun item Detail Report\", 14, 16).setFontSize(13);\n        doc.text(`Report Genarated Date - ${dateStr}`, 14, 23);\n        //right down width height\n        //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\n        doc.autoTable(tableColumn, tableRows, { styles: { fontSize: 8, }, startY:35});\n        doc.save(\"Return item Details Report.pdf\");\n    };\n\n\n    return (\n        <>\n      <div class=\"head\">\n        <br></br>\n          <br></br>\n          \n   <h2> RETURN STOCK MANAGEMENT</h2>\n    \n   </div>\n   <br></br>\n   <br></br>\n\n   <div class=\"buttonn\">\n       <button type=\"button\" class=\"btn btn-secondary btn-sm\" onClick={() => generatePDF(returnstocks)} >GenerateReport</button>\n   </div>\n    \n       <div class=\"lft\">\n\n<br></br>\n<div class=\"wrap\">\n<div class=\"card\" >\n<div class=\"search\">\n<input type=\"text\" placeholder=\"Search..\" className=\"form-control\" style={{margintop:50,marginbottom:20,width:\"40%\"}}\n      onChange = {(e) => {\n          setsearchTerm(e.target.value);\n      }}/>\n      \n</div>\n</div>\n<br></br>\n          <br></br>\n          <br></br>\n\n          <div>  <button><Link to=\"/addret\" className=\"btn btn-danger\" >Add Another Return Item Detail</Link></button> </div>\n   <br></br>\n   <br></br>\n  \n         \n            \n          <br></br>\n           \n     <table class=\"table table-bordered\">\n        <table class=\"table table-hover\" >\n     \n                   <thead>\n                \n                       <tr>\n              \n                           <th> Customer name  </th>\n                           <th>Customer id     </th>\n                            <th>Item name       </th>\n                            <th>Quantity        </th>\n                            <th>Item code       </th>\n                            <th>Return reason   </th>\n                            <th>Date of purchase </th>\n                            <th> Item Image </th>\n                            <th>Delete         </th>\n                            \n\n                       </tr>\n                   </thead>\n                   <tbody>\n                       {\n returnstocks.filter(val=>{\n    if(searchTerm === ''){\n        return val;\n    }else if(\n        val.customer_name.toLowerCase().includes(searchTerm.toLowerCase()) \n         \n         \n\n    ){\n        return val;\n    }\n    }).map(function (f) {\n                               return <tr>\n                                   \n\n                                   <td >{f.customer_name}</td>\n                                   <td >{f.customer_id}</td>\n                                   <td>{f.item_name}</td>\n                                   <td>{f.quantity}</td>\n                                   <td>{f.item_code}</td>\n                                   <td>{f.return_reason}</td>\n                                   <td>{f.date_of_purchase}</td>\n                                   <td>{f.item_image}</td>\n                                   \n                                   \n\n\n\n                                   <td > <button className=\"btn btn-danger\" onClick={() =>{deleteReturnstock(f._id)}}>Delete</button>\n                                       \n               \n         </td>\n\n        \n\n    \n                                       \n                                  \n                               </tr>\n\n                           })\n                       }\n                   </tbody>\n                   </table>\n               </table>\n              \n\n</div>\n\n      </div> </>\n   \n   )\n\n\n\n\n\n\n\n\n}"]},"metadata":{},"sourceType":"module"}