{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PickAdz.LK\\\\Desktop\\\\Hardware system (1)\\\\Hardware system\\\\frontend\\\\src\\\\components\\\\customerview.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\"; //import Header from \"./Header\";\n\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport './Addpandemic.css';\nimport { Link } from 'react-router-dom';\nimport jspdf from 'jspdf';\nimport \"jspdf-autotable\";\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AllPandemic() {\n  _s();\n\n  const [pandemic, setPandemics] = useState([]);\n  const [searchTerm, setsearchTerm] = useState(\"\");\n\n  const deletePandemic = id => {\n    axios.delete(`http://localhost:3000/pandemic/delete/${id}`).then(() => {\n      swal({\n        title: \"Are you sure?\",\n        text: \"The Details Will be Deleted from Item List\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          swal(\"The file has been deleted!\", \"success\");\n          setTimeout(function () {\n            window.location.reload();\n          }, 1000);\n        } else {\n          swal(\"File Is Not Deleted\");\n        }\n      }); // ;\n    });\n  };\n\n  useEffect(() => {\n    function getPandemics() {\n      axios.get(\"http://localhost:3000/pandemic/all\").then(res => {\n        setPandemics(res.data);\n      }).catch(err => {\n        alert(err.message);\n      });\n    }\n\n    getPandemics();\n  }, []); // genarate pdf\n\n  const generatePDF = tickets => {\n    const doc = new jspdf();\n    const tableColumn = [\"Pandemic Type\", \"Pandemic Name\", \"Area\", \"Date\", \"Status\", \"Description\", \"Metron\", \"Sister\", \"Nursing Officers\"];\n    const tableRows = [];\n    const date = Date().split(\" \");\n    const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\n    tickets.map(ticket => {\n      const ticketData = [ticket.pandemictype, ticket.pandemicname, ticket.area, ticket.date, ticket.status, ticket.description, ticket.metron, ticket.sister, ticket.nursingofficers];\n      tableRows.push(ticketData);\n    });\n    doc.text(\"Health Care Center\", 70, 8).setFontSize(13);\n    doc.text(\"Pandemic Deatils Report\", 14, 16).setFontSize(13);\n    doc.text(`Report Genarated Date - ${dateStr}`, 14, 23); //right down width height\n    //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\n\n    doc.autoTable(tableColumn, tableRows, {\n      styles: {\n        fontSize: 8\n      },\n      startY: 35\n    });\n    doc.save(\"Pandemic Deatils Report.pdf\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"buttonn\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        class: \"btn btn-secondary btn-sm\",\n        onClick: () => generatePDF(pandemic),\n        children: \"Pandemic Deatils Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"lft\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"head\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \" Pandemic Deatils & Asing Staff Members\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search..\",\n          className: \"form-control\",\n          style: {\n            margintop: 50,\n            marginbottom: 20,\n            width: \"50%\"\n          },\n          onChange: e => {\n            setsearchTerm(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"text\",\n          class: \"btnq btnq--skew btnq-default\",\n          children: [\" Pandemics Count : \", pandemic.length, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"table table-bordered\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            class: \"table table-hover\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Pandemic Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Pandemic Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Area\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Metron\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Sister\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Nursing Officers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 28\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 24\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 20\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: pandemic.filter(val => {\n                if (searchTerm === '') {\n                  return val;\n                } else if (val.pandemictype.toLowerCase().includes(searchTerm.toLowerCase())) {\n                  return val;\n                }\n              }).map(function (f) {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: f.pandemictype\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 36\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [f.pandemicname, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 36\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [f.area, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 36\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [f.data, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 36\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [f.status, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 36\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [f.description, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 36\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [f.metron, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 36\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [f.sister, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 36\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [f.nursingofficers, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 36\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 39\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AllPandemic, \"7uF0+ARDHTmbrGsOnPlmcQwIUss=\");\n\n_c = AllPandemic;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllPandemic\");","map":{"version":3,"sources":["C:/Users/PickAdz.LK/Desktop/Hardware system (1)/Hardware system/frontend/src/components/customerview.js"],"names":["React","useState","useEffect","axios","IconButton","DeleteIcon","EditIcon","Link","jspdf","swal","AllPandemic","pandemic","setPandemics","searchTerm","setsearchTerm","deletePandemic","id","delete","then","title","text","icon","buttons","dangerMode","willDelete","setTimeout","window","location","reload","getPandemics","get","res","data","catch","err","alert","message","generatePDF","tickets","doc","tableColumn","tableRows","date","Date","split","dateStr","map","ticket","ticketData","pandemictype","pandemicname","area","status","description","metron","sister","nursingofficers","push","setFontSize","autoTable","styles","fontSize","startY","save","margintop","marginbottom","width","e","target","value","length","filter","val","toLowerCase","includes","f"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport axios from \"axios\";\r\n//import Header from \"./Header\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport './Addpandemic.css';\r\nimport {Link} from 'react-router-dom';\r\nimport jspdf from 'jspdf'\r\nimport \"jspdf-autotable\"\r\n \r\nimport swal from 'sweetalert';\r\nexport default function AllPandemic(){\r\n\r\n    const [pandemic,setPandemics ] = useState([]);\r\n    const [searchTerm, setsearchTerm] = useState(\"\");\r\n\r\n\r\n    const deletePandemic=(id) =>{\r\n        axios.delete(`http://localhost:3000/pandemic/delete/${id}`).then(()=>{\r\n            swal({\r\n                title: \"Are you sure?\",\r\n                text: \"The Details Will be Deleted from Item List\",\r\n                icon: \"warning\",\r\n                buttons: true,\r\n                dangerMode: true,\r\n              })\r\n              .then((willDelete) => {\r\n                if (willDelete) {\r\n                  swal(\"The file has been deleted!\", \r\n                    \"success\",\r\n                  );  setTimeout(function(){\r\n                    window.location.reload();\r\n                   },1000);\r\n                } else {\r\n                  swal(\"File Is Not Deleted\");\r\n                }\r\n              });\r\n        // ;\r\n        })\r\n      }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        \r\n        function getPandemics(){\r\n        axios.get(\"http://localhost:3000/pandemic/all\").then((res) => {\r\n            setPandemics(res.data);\r\n            }\r\n        ).catch((err) => {\r\n            alert(err.message);\r\n        })\r\n    }\r\n    getPandemics();\r\n    }, [])\r\n// genarate pdf\r\n\r\nconst generatePDF = tickets => {\r\n\r\n    const doc = new jspdf();\r\n    const tableColumn = [\"Pandemic Type\", \"Pandemic Name\", \"Area\", \"Date\", \"Status\",\"Description\",\"Metron\",\"Sister\",\"Nursing Officers\", ];\r\n    const tableRows = [];\r\n    const date = Date().split(\" \");\r\n    const dateStr = date[1] + \"-\" + date[2] + \"-\" + date[3];\r\n\r\n    tickets.map(ticket => {\r\n        const ticketData = [\r\n             ticket.pandemictype,\r\n            ticket.pandemicname,\r\n            ticket. area,\r\n            ticket.date,\r\n            ticket.status,\r\n            ticket.description,\r\n            ticket.metron,\r\n            ticket.sister,\r\n            ticket.nursingofficers,\r\n             \r\n        ];\r\n        tableRows.push(ticketData);\r\n    })\r\n    doc.text(\"Health Care Center\", 70, 8).setFontSize(13);\r\n    doc.text(\"Pandemic Deatils Report\", 14, 16).setFontSize(13);\r\n    doc.text(`Report Genarated Date - ${dateStr}`, 14, 23);\r\n    //right down width height\r\n    //doc.addImage(img, 'JPEG', 170, 8, 25, 25);\r\n    doc.autoTable(tableColumn, tableRows, { styles: { fontSize: 8, }, startY:35});\r\n    doc.save(\"Pandemic Deatils Report.pdf\");\r\n};\r\n    return (\r\n        <>\r\n     \r\n   <div class=\"buttonn\">\r\n   <button type=\"button\" class=\"btn btn-secondary btn-sm\" onClick={() => generatePDF(pandemic)} >Pandemic Deatils Report</button>\r\n   <br></br>\r\n  \r\n   </div>\r\n       <div class=\"lft\">\r\n<div class=\"card\" >\r\n<br></br>\r\n   <br></br>\r\n   <div class=\"head\">\r\n               \r\n               <h3> Pandemic Deatils & Asing Staff Members</h3>\r\n               \r\n               </div>\r\n               \r\n   <br></br>\r\n   <br></br>\r\n   \r\n<input type=\"text\" placeholder=\"Search..\" className=\"form-control\" style={{margintop:50,marginbottom:20,width:\"50%\"}}\r\n      onChange = {(e) => {\r\n          setsearchTerm(e.target.value);\r\n      }}/>\r\n   <br></br>\r\n  \r\n   <br></br>\r\n   \r\n   <button type=\"text\" class=\"btnq btnq--skew btnq-default\"> Pandemics Count : {pandemic.length} </button>\r\n   \r\n   <table class=\"table table-bordered\">\r\n        <table class=\"table table-hover\" >\r\n            \r\n                   <thead>\r\n                       \r\n                       <tr>\r\n                       <th >Pandemic Type</th>\r\n                           <th>Pandemic Name</th>\r\n                           <th>Area</th>\r\n                           <th>Date</th>\r\n                           <th>Status</th>\r\n                           <th>Description</th>\r\n                           <th>Metron</th>\r\n                           <th>Sister</th>\r\n                           <th>Nursing Officers</th>\r\n                          \r\n\r\n                       </tr>\r\n                   </thead>\r\n                   <tbody>\r\n                   {\r\n                           pandemic.filter(val=>{\r\n                               if(searchTerm === ''){\r\n                                   return val;\r\n                               }else if(\r\n                                   val.pandemictype.toLowerCase().includes(searchTerm.toLowerCase()) \r\n                                    \r\n                                    \r\n\r\n                               ){\r\n                                   return val;\r\n                               }\r\n                               }).map(function (f) {\r\n                               return <tr>\r\n                                   \r\n                                   <td >{f. pandemictype}</td>\r\n                                   <td >{f.pandemicname} </td>\r\n                                   <td >{f.area} </td>\r\n                                   <td >{f.data} </td>\r\n                                   <td >{f. status} </td>\r\n                                   <td >{f. description} </td>\r\n                                   <td >{f.metron} </td>\r\n                                   <td >{f. sister} </td>\r\n                                   <td >{f. nursingofficers} </td>\r\n                                    \r\n\r\n                                   \r\n\r\n                               </tr>\r\n\r\n                           })\r\n                       }\r\n                   </tbody>\r\n                   </table>\r\n               </table>\r\n                     \r\n               \r\n                   \r\n</div>\r\n</div>\r\n\r\n       </>\r\n   \r\n   )\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}